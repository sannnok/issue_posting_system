!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}function e(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function n(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,r,e){return r&&n(t.prototype,r),e&&n(t,e),t}function i(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"9AGB":function(t,r,e){"use strict";var n=e("w5QO");function o(t){return t?1===t.length?t[0]:function(r){return t.reduce((function(t,r){return r(t)}),r)}:n.noop}r.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return o(t)},r.pipeFromArray=o},FWf1:function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}),i=e("pshJ"),s=e("GiSu"),c=e("zB/H"),a=e("p//D"),u=e("n3uD"),p=e("MkmW"),b=function(t){function r(e,n,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=s.empty;break;case 1:if(!e){i.destination=s.empty;break}if("object"==typeof e){e instanceof r?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(i)):(i.syncErrorThrowable=!0,i.destination=new l(i,e));break}default:i.syncErrorThrowable=!0,i.destination=new l(i,e,n,o)}return i}return o(r,t),r.prototype[a.rxSubscriber]=function(){return this},r.create=function(t,e,n){var o=new r(t,e,n);return o.syncErrorThrowable=!1,o},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},r}(c.Subscription);r.Subscriber=b;var l=function(t){function r(r,e,n,o){var c,a=t.call(this)||this;a._parentSubscriber=r;var u=a;return i.isFunction(e)?c=e:e&&(c=e.next,n=e.error,o=e.complete,e!==s.empty&&(u=Object.create(e),i.isFunction(u.unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(a))),a._context=u,a._next=c,a._error=n,a._complete=o,a}return o(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;u.config.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber,e=u.config.useDeprecatedSynchronousErrorHandling;if(this._error)e&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(r.syncErrorThrowable)e?(r.syncErrorValue=t,r.syncErrorThrown=!0):p.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),e)throw t;p.hostReportError(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var e=function(){return t._complete.call(t._context)};u.config.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?(this.__tryOrSetError(r,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(e){if(this.unsubscribe(),u.config.useDeprecatedSynchronousErrorHandling)throw e;p.hostReportError(e)}},r.prototype.__tryOrSetError=function(t,r,e){if(!u.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,e)}catch(n){return u.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(p.hostReportError(n),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(b);r.SafeSubscriber=l},FiyT:function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)});r.SubjectSubscription=function(t){function r(r,e){var n=t.call(this)||this;return n.subject=r,n.subscriber=e,n.closed=!1,n}return o(r,t),r.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,r=t.observers;if(this.subject=null,r&&0!==r.length&&!t.isStopped&&!t.closed){var e=r.indexOf(this.subscriber);-1!==e&&r.splice(e,1)}}},r}(e("zB/H").Subscription)},GMZp:function(t,r,e){"use strict";r.isObject=function(t){return null!==t&&"object"==typeof t}},GiSu:function(t,r,e){"use strict";var n=e("n3uD"),o=e("MkmW");r.empty={closed:!0,next:function(t){},error:function(t){if(n.config.useDeprecatedSynchronousErrorHandling)throw t;o.hostReportError(t)},complete:function(){}}},LBXl:function(t,r,e){"use strict";r.UnsubscriptionError=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,r){return r+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},MkmW:function(t,r,e){"use strict";r.hostReportError=function(t){setTimeout((function(){throw t}),0)}},Mxlh:function(t,r,e){"use strict";r.ObjectUnsubscribedError=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Q1FS:function(t,r,e){"use strict";var n=e("yx2s"),o=e("Xwq/"),i=e("zfKp"),s=e("9AGB"),c=e("n3uD");function a(t){if(t||(t=c.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}r.Observable=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(t,r,e){var n=this.operator,i=o.toSubscriber(t,r,e);if(i.add(n?n.call(i,this.source):this.source||c.config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),c.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){c.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),n.canReportError(t)?t.error(r):console.warn(r)}},t.prototype.forEach=function(t,r){var e=this;return new(r=a(r))((function(r,n){var o;o=e.subscribe((function(r){try{t(r)}catch(e){n(e),o&&o.unsubscribe()}}),n,r)}))},t.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},t.prototype[i.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var r=this;return new(t=a(t))((function(t,e){var n;r.subscribe((function(t){return n=t}),(function(t){return e(t)}),(function(){return t(n)}))}))},t.create=function(r){return new t(r)},t}()},"Xwq/":function(t,r,e){"use strict";var n=e("FWf1"),o=e("p//D"),i=e("GiSu");r.toSubscriber=function(t,r,e){if(t){if(t instanceof n.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||r||e?new n.Subscriber(t,r,e):new n.Subscriber(i.empty)}},YanU:function(e,n,s){"use strict";s.r(n),s.d(n,"PostsModule",(function(){return _t}));var c,a=s("ofXK"),u=s("3Pt+"),p=s("tyNb"),b=s("fXoL"),l=((c=function t(){i(this,t)}).\u0275fac=function(t){return new(t||c)},c.\u0275cmp=b.Gb({type:c,selectors:[["app-posts"]],decls:1,vars:0,template:function(t,r){1&t&&b.Nb(0,"router-outlet")},directives:[p.h],styles:[""],changeDetection:0}),c),f=s("l7P3"),h=s("/MEz"),d=s("1oMX").b.getSelectors().selectAll,m=Object(f.o)("posts"),y=Object(f.q)(m,d),v=function(t){return Object(f.q)(m,(function(r){return r.entities[t]}))},g=Object(f.q)(m,(function(t){return t.allPossibleTags})),S=s("vkgz"),w=s("lJxs"),_=s("tgey"),O=s("hZJE"),E=s("+QYo"),k=s("bTqV"),C=s("NFeN"),R=s("MutI"),x=s("FtGj"),j=s("A5z7"),P=s("jtHE"),B=s("VRyK"),F=s("ds6q"),I=s("Kqap"),T=s("UXun"),M=s("1G5W"),D=s("kmnG");function A(t,r){1&t&&(b.Sb(0,"mat-icon"),b.yc(1,"check"),b.Rb())}function q(t,r){if(1&t){var e=b.Tb();b.Sb(0,"mat-chip",4,5),b.Zb("click",(function(){b.oc(e);var t=b.mc(1);return b.dc().toggleSelection(t)})),b.xc(2,A,2,0,"mat-icon",6),b.yc(3),b.Rb()}if(2&t){var n=r.$implicit,o=b.mc(1);b.ic("value",n),b.Bb(2),b.ic("ngIf",o.selected),b.Bb(1),b.Ac(" ",n," ")}}function $(t,r){if(1&t){var e=b.Tb();b.Sb(0,"input",7),b.Zb("matChipInputTokenEnd",(function(t){return b.oc(e),b.dc().addChip(t)})),b.Rb()}if(2&t){var n=b.dc(),o=b.mc(2);b.ic("matChipInputFor",o)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes)("matChipInputAddOnBlur",!0)}}var L,N=((L=function(){function r(t){i(this,r),this.cdr=t,this.input=!0,this.valueCahnged=new b.o,this.value=[],this.disabled=!1,this.separatorKeysCodes=[x.g,x.c],this.onChipAdded$=new P.a,this.destroy$=new F.Subject}return o(r,[{key:"ngOnInit",value:function(){this.items$=Object(B.a)(this.loadPosts(),this.onChipAdded$).pipe(Object(I.a)((function(r,e){switch(e.type){case"loaded":return e.items;case"added":return[].concat(t(r),[e.item])}}),[]),Object(T.a)(1))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"loadPosts",value:function(){return this.options$.pipe(Object(w.a)((function(t){return{type:"loaded",items:t}})))}},{key:"ngAfterViewInit",value:function(){var r=this;this.selectChips(this.value),this.chipList.chipSelectionChanges.pipe(Object(M.a)(this.destroy$),Object(w.a)((function(t){return t.source}))).subscribe((function(e){r.value=e.selected?[].concat(t(r.value),[e.value]):r.value.filter((function(t){return t!==e.value})),r.propagateChange(r.value)}))}},{key:"toggleSelection",value:function(t){this.disabled||t.toggleSelected(!0)}},{key:"writeValue",value:function(t){this.chipList&&t?this.selectChips(t):t&&(this.value=t)}},{key:"selectChips",value:function(t){this.chipList.chips.forEach((function(t){return t.deselect()})),this.chipList.chips.filter((function(r){return t.includes(r.value)})).forEach((function(t){return t.select()})),this.cdr.detectChanges()}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"propagateChange",value:function(t){this.onChange&&(this.onChange(t),this.valueCahnged.next(t))}},{key:"addChip",value:function(t){var r=t.input,e=t.value;(e||"").trim()&&(this.value.push(e.trim()),this.onChipAdded$.next({type:"added",item:e.trim()})),r&&(r.value="")}}]),r}()).\u0275fac=function(t){return new(t||L)(b.Mb(b.h))},L.\u0275cmp=b.Gb({type:L,selectors:[["app-chips-multi-select"]],viewQuery:function(t,r){var e;1&t&&b.Bc(j.c,!0),2&t&&b.lc(e=b.ac())&&(r.chipList=e.first)},inputs:{input:"input",options$:["options","options$"]},outputs:{valueCahnged:"valueCahnged"},features:[b.Ab([{provide:u.k,useExisting:L,multi:!0}])],decls:6,vars:4,consts:[["selectable","","multiple","","aria-label","Fish selection"],["myChipList",""],[3,"value","click",4,"ngFor","ngForOf"],[3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd",4,"ngIf"],[3,"value","click"],["c","matChip"],[4,"ngIf"],[3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"]],template:function(t,r){1&t&&(b.Sb(0,"mat-form-field"),b.Sb(1,"mat-chip-list",0,1),b.xc(3,q,4,3,"mat-chip",2),b.ec(4,"async"),b.xc(5,$,1,3,"input",3),b.Rb(),b.Rb()),2&t&&(b.Bb(3),b.ic("ngForOf",b.fc(4,2,r.items$)),b.Bb(2),b.ic("ngIf",r.input))},directives:[D.c,j.c,a.j,a.k,j.a,C.a,j.b],pipes:[a.b],styles:["mat-form-field[_ngcontent-%COMP%] { width: 100% };"],changeDetection:0}),L),G=s("FKr1");function U(t,r){if(1&t){var e=b.Tb();b.Sb(0,"app-chips-multi-select",11),b.Zb("valueCahnged",(function(t){return b.oc(e),b.dc(2).applyFilter(t)})),b.Rb()}if(2&t){var n=b.dc(2);b.ic("formControl",n.filter)("options",n.options$)("input",!1)}}var H=function(t){return["/","posts",t]};function z(t,r){if(1&t&&(b.Sb(0,"mat-list-item",12),b.Sb(1,"mat-icon",13),b.yc(2,"event_note"),b.Rb(),b.Sb(3,"div",14),b.yc(4),b.Rb(),b.Rb()),2&t){var e=r.$implicit;b.ic("routerLink",b.kc(2,H,e.id)),b.Bb(4),b.zc(e.title)}}var K=function(){return["/","posts","create"]};function J(t,r){if(1&t){var e=b.Tb();b.Sb(0,"div"),b.Sb(1,"app-page-header"),b.Nb(2,"app-page-header-back",1),b.Sb(3,"app-page-header-title",2),b.yc(4,"Posts List"),b.Rb(),b.Sb(5,"div",3),b.xc(6,U,1,3,"app-chips-multi-select",4),b.ec(7,"async"),b.Rb(),b.Sb(8,"button",5),b.Zb("click",(function(){return b.oc(e),b.dc().onRefresh()})),b.Sb(9,"mat-icon"),b.yc(10,"refresh"),b.Rb(),b.Rb(),b.Rb(),b.Sb(11,"div",6),b.Sb(12,"button",7),b.Sb(13,"mat-icon"),b.yc(14,"add"),b.Rb(),b.Rb(),b.Rb(),b.Sb(15,"div",8),b.Sb(16,"mat-list",9),b.xc(17,z,5,4,"mat-list-item",10),b.Rb(),b.Rb(),b.Rb()}if(2&t){var n=r.ngIf,o=b.dc();b.Bb(2),b.ic("link","/"),b.Bb(1),b.ic("addons",n.length),b.Bb(3),b.ic("ngIf",b.fc(7,5,o.options$).length),b.Bb(6),b.ic("routerLink",b.jc(7,K)),b.Bb(5),b.ic("ngForOf",n)}}var Z,V=((Z=function(){function t(r,e,n){i(this,t),this.store=r,this.cdr=e,this.formBuilder=n,this.filter=new u.e(["bug"]),r.dispatch(Object(h.g)()),this.posts$=this.store.pipe(Object(f.t)(y)).pipe(Object(S.a)((function(){}))),this.options$=this.store.pipe(Object(f.t)(g))}return o(t,[{key:"ngOnInit",value:function(){}},{key:"onRefresh",value:function(){this.store.dispatch(Object(h.g)())}},{key:"applyFilter",value:function(t){this.posts$=this.store.pipe(Object(f.t)(y),Object(w.a)((function(e){return e.filter((function(e){if(!t.length)return!0;var n,o=!0,i=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){a=!0,s=t},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw s}}}}(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;e.tags.includes(s)||(o=!1)}}catch(c){i.e(c)}finally{i.f()}return o}))}))),this.cdr.detectChanges()}}]),t}()).\u0275fac=function(t){return new(t||Z)(b.Mb(f.h),b.Mb(b.h),b.Mb(u.d))},Z.\u0275cmp=b.Gb({type:Z,selectors:[["app-posts-list"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to homepage",3,"link"],[3,"addons"],[1,"posts-filter"],[3,"formControl","options","input","valueCahnged",4,"ngIf"],["mat-icon-button","","color","primary","aria-label","Reload",1,"ml-auto",3,"click"],[1,"floating-action"],["mat-fab","","color","primary","aria-label","Add new item",3,"routerLink"],[1,"page-content"],[1,"pt-0"],["mat-ripple","",3,"routerLink",4,"ngFor","ngForOf"],[3,"formControl","options","input","valueCahnged"],["mat-ripple","",3,"routerLink"],["mat-list-icon","","color","accent"],["mat-line",""]],template:function(t,r){1&t&&(b.xc(0,J,18,8,"div",0),b.ec(1,"async")),2&t&&b.ic("ngIf",b.fc(1,1,r.posts$))},directives:[a.k,_.a,O.a,E.a,k.a,C.a,p.e,R.a,a.j,N,u.m,u.f,R.c,G.r,R.b,G.k],pipes:[a.b],styles:[".post-item__date[_ngcontent-%COMP%]{opacity:.5}.posts-filter[_ngcontent-%COMP%]{width:70%;padding:0 16px;margin-top:10px}.page-header-title[_ngcontent-%COMP%]{white-space:nowrap!important}.mat-icon[_ngcontent-%COMP%]{color:#1a231d}.floating-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#918e8e}.floating-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#dcdcdc!important}  .mat-chip.mat-standard-chip{background-color:rgba(145,142,142,.49);color:rgba(0,0,0,.87)}  .mat-chip.mat-standard-chip.mat-chip-selected.mat-primary{background-color:rgba(0,0,0,.62);color:#fff}  .mat-focus-indicator.mat-icon-button.mat-button-base.mat-primary{color:#000}  .posts-filter .mat-form-field-underline{display:none}  mat-form-field .mat-chip-list-wrapper{flex-wrap:nowrap;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none}  mat-form-field .mat-chip-list-wrapper::-webkit-scrollbar{display:none}"],changeDetection:0}),Z),W=s("qXsx"),X=s("Wp6s"),Y=s("qFsG");function Q(t,r){1&t&&(b.Sb(0,"mat-error"),b.yc(1," Title of Post is required "),b.Rb())}function tt(t,r){1&t&&(b.Sb(0,"mat-error"),b.yc(1," Body of Post is required "),b.Rb())}var rt,et=function(){return["/","posts"]},nt=((rt=function(){function t(r,e,n){i(this,t),this.formBuilder=r,this.store=e,this.notification=n}return o(t,[{key:"ngOnInit",value:function(){this.postForm=this.createPostCreateFormGroup(),this.options$=this.store.pipe(Object(f.t)(g))}},{key:"onPostFormSubmit",value:function(){this.postForm.valid?this.store.dispatch(Object(h.a)({post:this.postForm.value})):this.notification.showError("Form contains errors. Fix it and try again.")}},{key:"createPostCreateFormGroup",value:function(){return this.formBuilder.group({date:[new Date,u.q.required],title:["",u.q.required],body:["",u.q.required],tags:[[]]})}},{key:"canDeactivate",value:function(){return!this.postForm.dirty}}]),t}()).\u0275fac=function(t){return new(t||rt)(b.Mb(u.d),b.Mb(f.h),b.Mb(W.a))},rt.\u0275cmp=b.Gb({type:rt,selectors:[["app-post-create"]],decls:28,vars:11,consts:[["ariaLabel","Back to Posts List",3,"link"],[1,"page-content"],[1,"squeeze"],[3,"formGroup","submit"],[1,"w-100"],["matInput","","maxlength","40",3,"formControlName"],["title",""],[4,"ngIf"],["align","end"],["matInput","","rows","10",3,"formControlName"],[3,"formControlName","options"],[1,"text-right"],["mat-button","","type","button",3,"routerLink"],["mat-flat-button","","color","primary","type","submit"]],template:function(t,r){if(1&t&&(b.Sb(0,"div"),b.Sb(1,"app-page-header"),b.Nb(2,"app-page-header-back",0),b.Sb(3,"app-page-header-title"),b.yc(4,"Post Create"),b.Rb(),b.Rb(),b.Sb(5,"div",1),b.Sb(6,"div",2),b.Sb(7,"mat-card"),b.Sb(8,"form",3),b.Zb("submit",(function(){return r.onPostFormSubmit()})),b.Sb(9,"mat-form-field",4),b.Sb(10,"mat-label"),b.yc(11,"Post Title"),b.Rb(),b.Nb(12,"input",5,6),b.xc(14,Q,2,0,"mat-error",7),b.Sb(15,"mat-hint",8),b.yc(16),b.Rb(),b.Rb(),b.Sb(17,"mat-form-field",4),b.Sb(18,"mat-label"),b.yc(19,"Body"),b.Rb(),b.Nb(20,"textarea",9),b.xc(21,tt,2,0,"mat-error",7),b.Rb(),b.Nb(22,"app-chips-multi-select",10),b.Sb(23,"div",11),b.Sb(24,"button",12),b.yc(25,"Cancel"),b.Rb(),b.Sb(26,"button",13),b.yc(27,"Submit"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t){var e=b.mc(13);b.Bb(2),b.ic("link","/posts/list"),b.Bb(6),b.ic("formGroup",r.postForm),b.Bb(4),b.ic("formControlName","title"),b.Bb(2),b.ic("ngIf",r.postForm.get("title").hasError("required")),b.Bb(2),b.Ac("",e.value.length," / 40"),b.Bb(4),b.ic("formControlName","body"),b.Bb(1),b.ic("ngIf",r.postForm.get("body").hasError("required")),b.Bb(1),b.ic("formControlName","tags")("options",r.options$),b.Bb(2),b.ic("routerLink",b.jc(10,et))}},directives:[_.a,O.a,E.a,X.a,u.r,u.n,u.h,D.c,D.g,Y.b,u.c,u.i,u.m,u.g,a.k,D.f,N,k.a,p.e,D.b],styles:[".text-right[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#0a2a42!important}"],changeDetection:0}),rt),ot=s("quSY");function it(t,r){1&t&&(b.Sb(0,"mat-error"),b.yc(1," Title of Post is required "),b.Rb())}function st(t,r){1&t&&(b.Sb(0,"mat-error"),b.yc(1," Body of Post is required "),b.Rb())}var ct=function(){return["/","posts"]};function at(t,r){if(1&t){var e=b.Tb();b.Sb(0,"div"),b.Sb(1,"app-page-header"),b.Nb(2,"app-page-header-back",1),b.Sb(3,"button",2),b.Zb("click",(function(){b.oc(e);var t=r.ngIf;return b.dc().delete(t.id)})),b.Sb(4,"mat-icon"),b.yc(5,"delete"),b.Rb(),b.Rb(),b.Rb(),b.Sb(6,"div",3),b.Sb(7,"div",4),b.Sb(8,"mat-card"),b.Sb(9,"form",5),b.Zb("submit",(function(){return b.oc(e),b.dc().onPostFormSubmit()})),b.Sb(10,"mat-form-field",6),b.Sb(11,"mat-label"),b.yc(12,"Post Title"),b.Rb(),b.Nb(13,"input",7,8),b.xc(15,it,2,0,"mat-error",0),b.Sb(16,"mat-hint",9),b.yc(17),b.Rb(),b.Rb(),b.Sb(18,"mat-form-field",6),b.Sb(19,"mat-label"),b.yc(20,"Body"),b.Rb(),b.Nb(21,"textarea",10),b.xc(22,st,2,0,"mat-error",0),b.Rb(),b.Nb(23,"app-chips-multi-select",11),b.Sb(24,"div",12),b.Sb(25,"button",13),b.yc(26,"Cancel"),b.Rb(),b.Sb(27,"button",14),b.yc(28,"Submit"),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Rb()}if(2&t){var n=b.mc(14),o=b.dc();b.Bb(2),b.ic("link","/posts/list"),b.Bb(7),b.ic("formGroup",o.postForm),b.Bb(4),b.ic("formControlName","title"),b.Bb(2),b.ic("ngIf",o.postForm.get("title").hasError("required")),b.Bb(2),b.Ac("",n.value.length," / 40"),b.Bb(4),b.ic("formControlName","body"),b.Bb(1),b.ic("ngIf",o.postForm.get("body").hasError("required")),b.Bb(1),b.ic("formControlName","tags")("options",o.options$),b.Bb(2),b.ic("routerLink",b.jc(10,ct))}}var ut,pt=((ut=function(){function t(r,e,n,o){i(this,t),this.activatedRoute=r,this.formBuilder=e,this.store=n,this.notification=o,this.subscriptions=new ot.a}return o(t,[{key:"toggleSelection",value:function(t){t.toggleSelected()}},{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.params.subscribe((function(r){t.post$=t.store.pipe(Object(f.t)(v(r.id))),t.subscriptions.add(t.post$.subscribe((function(e){t.postForm=t.createPostFormGroup(e),e||t.store.dispatch(Object(h.i)({id:r.id}))})))})),this.options$=this.store.pipe(Object(f.t)(g))}},{key:"onPostFormSubmit",value:function(){this.postForm.valid?this.store.dispatch(Object(h.m)({updatePost:{id:this.postForm.controls.id.value,changes:this.postForm.value}})):this.notification.showError("Form contains errors. Fix it and try again.")}},{key:"delete",value:function(t){this.store.dispatch(Object(h.d)({id:t}))}},{key:"canDeactivate",value:function(){return!this.postForm.dirty}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}},{key:"createPostFormGroup",value:function(t){return this.formBuilder.group({id:[t?t.id:null,u.q.required],title:[t?t.title:"",u.q.required],body:[t?t.body:"",u.q.required],tags:[t?t.tags:[],u.q.required]})}}]),t}()).\u0275fac=function(t){return new(t||ut)(b.Mb(p.a),b.Mb(u.d),b.Mb(f.h),b.Mb(W.a))},ut.\u0275cmp=b.Gb({type:ut,selectors:[["app-post-update"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to Posts List",3,"link"],["mat-icon-button","","color","warn","aria-label","Delete Post",1,"ml-auto",3,"click"],[1,"page-content"],[1,"squeeze"],[3,"formGroup","submit"],[1,"w-100"],["matInput","","maxlength","40",3,"formControlName"],["title",""],["align","end"],["matInput","","rows","10",3,"formControlName"],[3,"formControlName","options"],[1,"text-right"],["mat-button","","type","button",3,"routerLink"],["mat-flat-button","","color","primary","type","submit"]],template:function(t,r){1&t&&(b.xc(0,at,29,11,"div",0),b.ec(1,"async")),2&t&&b.ic("ngIf",b.fc(1,1,r.post$))},directives:[a.k,_.a,O.a,k.a,C.a,X.a,u.r,u.n,u.h,D.c,D.g,Y.b,u.c,u.i,u.m,u.g,D.f,N,p.e,D.b],pipes:[a.b],styles:["mat-icon[_ngcontent-%COMP%]{height:20px;width:20px;font-size:20px;margin-right:5px}.text-right[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#0a2a42!important}"],changeDetection:0}),ut),bt=s("IzEk"),lt=function(t){return["/","posts",t,"update"]};function ft(t,r){if(1&t){var e=b.Tb();b.Sb(0,"div"),b.Sb(1,"app-page-header"),b.Nb(2,"app-page-header-back",1),b.Sb(3,"app-page-header-title"),b.yc(4),b.Rb(),b.Sb(5,"button",2),b.Sb(6,"mat-icon"),b.yc(7,"edit"),b.Rb(),b.Rb(),b.Sb(8,"button",3),b.Zb("click",(function(){b.oc(e);var t=r.ngIf;return b.dc().delete(t.id)})),b.Sb(9,"mat-icon"),b.yc(10,"delete"),b.Rb(),b.Rb(),b.Rb(),b.Nb(11,"div",4),b.Rb()}if(2&t){var n=r.ngIf;b.Bb(2),b.ic("link","/posts/list"),b.Bb(2),b.zc(n.title),b.Bb(1),b.ic("routerLink",b.kc(4,lt,n.id)),b.Bb(6),b.ic("innerHTML",n.body,b.pc)}}var ht,dt,mt,yt=((ht=function(){function t(r,e){i(this,t),this.activatedRoute=r,this.store=e}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.params.subscribe((function(r){t.post$=t.store.pipe(Object(f.t)(v(r.id))),t.post$.pipe(Object(bt.a)(1)).subscribe((function(e){return!e&&t.store.dispatch(Object(h.i)({id:r.id}))}))}))}},{key:"delete",value:function(t){this.store.dispatch(Object(h.d)({id:t}))}}]),t}()).\u0275fac=function(t){return new(t||ht)(b.Mb(p.a),b.Mb(f.h))},ht.\u0275cmp=b.Gb({type:ht,selectors:[["app-post-details"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to Posts List",3,"link"],["mat-icon-button","","color","primary","aria-label","Edit Post",1,"ml-auto",3,"routerLink"],["mat-icon-button","","color","warn","aria-label","Delete Post",3,"click"],[1,"page-content",3,"innerHTML"]],template:function(t,r){1&t&&(b.xc(0,ft,12,6,"div",0),b.ec(1,"async")),2&t&&b.ic("ngIf",b.fc(1,1,r.post$))},directives:[a.k,_.a,O.a,E.a,k.a,p.e,C.a],pipes:[a.b],styles:[".page-header-title[_ngcontent-%COMP%]{white-space:nowrap}"],changeDetection:0}),ht),vt=s("udBE"),gt=[{path:"",component:l,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:V},{path:"create",component:nt,canDeactivate:[vt.a]},{path:":id/update",component:pt,canDeactivate:[vt.a]},{path:":id",component:yt}]}],St=((dt=function t(){i(this,t)}).\u0275mod=b.Kb({type:dt}),dt.\u0275inj=b.Jb({factory:function(t){return new(t||dt)},imports:[[p.g.forChild(gt)],p.g]}),dt),wt=s("PCNd"),_t=((mt=function t(){i(this,t)}).\u0275mod=b.Kb({type:mt}),mt.\u0275inj=b.Jb({factory:function(t){return new(t||mt)},imports:[[a.c,St,u.p,wt.a]]}),mt)},ds6q:function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}),i=e("Q1FS"),s=e("FWf1"),c=e("zB/H"),a=e("Mxlh"),u=e("FiyT"),p=e("p//D"),b=function(t){function r(r){var e=t.call(this,r)||this;return e.destination=r,e}return o(r,t),r}(s.Subscriber);r.SubjectSubscriber=b;var l=function(t){function r(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return o(r,t),r.prototype[p.rxSubscriber]=function(){return new b(this)},r.prototype.lift=function(t){var r=new f(this,this);return r.operator=t,r},r.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var r=this.observers,e=r.length,n=r.slice(),o=0;o<e;o++)n[o].next(t)},r.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var r=this.observers,e=r.length,n=r.slice(),o=0;o<e;o++)n[o].error(t);this.observers.length=0},r.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,r=t.length,e=t.slice(),n=0;n<r;n++)e[n].complete();this.observers.length=0},r.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},r.prototype._trySubscribe=function(r){if(this.closed)throw new a.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,r)},r.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),c.Subscription.EMPTY):this.isStopped?(t.complete(),c.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},r.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},r.create=function(t,r){return new f(t,r)},r}(i.Observable);r.Subject=l;var f=function(t){function r(r,e){var n=t.call(this)||this;return n.destination=r,n.source=e,n}return o(r,t),r.prototype.next=function(t){var r=this.destination;r&&r.next&&r.next(t)},r.prototype.error=function(t){var r=this.destination;r&&r.error&&this.destination.error(t)},r.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},r.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):c.Subscription.EMPTY},r}(l);r.AnonymousSubject=f},mbIT:function(t,r,e){"use strict";r.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},n3uD:function(t,r,e){"use strict";var n=!1;r.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var r=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+r.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},"p//D":function(t,r,e){"use strict";r.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),r.$$rxSubscriber=r.rxSubscriber},pshJ:function(t,r,e){"use strict";r.isFunction=function(t){return"function"==typeof t}},w5QO:function(t,r,e){"use strict";r.noop=function(){}},yx2s:function(t,r,e){"use strict";var n=e("FWf1");r.canReportError=function(t){for(;t;){var r=t.destination;if(t.closed||t.isStopped)return!1;t=r&&r instanceof n.Subscriber?r:null}return!0}},"zB/H":function(t,r,e){"use strict";var n=e("mbIT"),o=e("GMZp"),i=e("pshJ"),s=e("LBXl");function c(t){return t.reduce((function(t,r){return t.concat(r instanceof s.UnsubscriptionError?r.errors:r)}),[])}r.Subscription=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var r;return t.prototype.unsubscribe=function(){var r;if(!this.closed){var e=this._parentOrParents,a=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof t)e.remove(this);else if(null!==e)for(var p=0;p<e.length;++p)e[p].remove(this);if(i.isFunction(a))try{a.call(this)}catch(f){r=f instanceof s.UnsubscriptionError?c(f.errors):[f]}if(n.isArray(u)){p=-1;for(var b=u.length;++p<b;){var l=u[p];if(o.isObject(l))try{l.unsubscribe()}catch(f){r=r||[],f instanceof s.UnsubscriptionError?r=r.concat(c(f.errors)):r.push(f)}}}if(r)throw new s.UnsubscriptionError(r)}},t.prototype.add=function(r){var e=r;if(!r)return t.EMPTY;switch(typeof r){case"function":e=new t(r);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof t)){var n=e;(e=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var o=e._parentOrParents;if(null===o)e._parentOrParents=this;else if(o instanceof t){if(o===this)return e;e._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return e;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[e]:i.push(e),e},t.prototype.remove=function(t){var r=this._subscriptions;if(r){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}},t.EMPTY=((r=new t).closed=!0,r),t}()},zfKp:function(t,r,e){"use strict";r.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"}}])}();