(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"9AGB":function(t,r,e){"use strict";var n=e("w5QO");function o(t){return t?1===t.length?t[0]:function(r){return t.reduce((function(t,r){return r(t)}),r)}:n.noop}r.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return o(t)},r.pipeFromArray=o},FWf1:function(t,r,e){"use strict";var n=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),o=e("pshJ"),i=e("GiSu"),s=e("zB/H"),c=e("p//D"),a=e("n3uD"),u=e("MkmW"),p=function(t){function r(e,n,o){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=i.empty;break;case 1:if(!e){s.destination=i.empty;break}if("object"==typeof e){e instanceof r?(s.syncErrorThrowable=e.syncErrorThrowable,s.destination=e,e.add(s)):(s.syncErrorThrowable=!0,s.destination=new b(s,e));break}default:s.syncErrorThrowable=!0,s.destination=new b(s,e,n,o)}return s}return n(r,t),r.prototype[c.rxSubscriber]=function(){return this},r.create=function(t,e,n){var o=new r(t,e,n);return o.syncErrorThrowable=!1,o},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},r}(s.Subscription);r.Subscriber=p;var b=function(t){function r(r,e,n,s){var c,a=t.call(this)||this;a._parentSubscriber=r;var u=a;return o.isFunction(e)?c=e:e&&(c=e.next,n=e.error,s=e.complete,e!==i.empty&&(u=Object.create(e),o.isFunction(u.unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(a))),a._context=u,a._next=c,a._error=n,a._complete=s,a}return n(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;a.config.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber,e=a.config.useDeprecatedSynchronousErrorHandling;if(this._error)e&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(r.syncErrorThrowable)e?(r.syncErrorValue=t,r.syncErrorThrown=!0):u.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),e)throw t;u.hostReportError(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var e=function(){return t._complete.call(t._context)};a.config.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?(this.__tryOrSetError(r,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(e){if(this.unsubscribe(),a.config.useDeprecatedSynchronousErrorHandling)throw e;u.hostReportError(e)}},r.prototype.__tryOrSetError=function(t,r,e){if(!a.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,e)}catch(n){return a.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(u.hostReportError(n),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(p);r.SafeSubscriber=b},FiyT:function(t,r,e){"use strict";var n=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();r.SubjectSubscription=function(t){function r(r,e){var n=t.call(this)||this;return n.subject=r,n.subscriber=e,n.closed=!1,n}return n(r,t),r.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,r=t.observers;if(this.subject=null,r&&0!==r.length&&!t.isStopped&&!t.closed){var e=r.indexOf(this.subscriber);-1!==e&&r.splice(e,1)}}},r}(e("zB/H").Subscription)},GMZp:function(t,r,e){"use strict";r.isObject=function(t){return null!==t&&"object"==typeof t}},GiSu:function(t,r,e){"use strict";var n=e("n3uD"),o=e("MkmW");r.empty={closed:!0,next:function(t){},error:function(t){if(n.config.useDeprecatedSynchronousErrorHandling)throw t;o.hostReportError(t)},complete:function(){}}},LBXl:function(t,r,e){"use strict";r.UnsubscriptionError=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,r){return r+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},MkmW:function(t,r,e){"use strict";r.hostReportError=function(t){setTimeout((function(){throw t}),0)}},Mxlh:function(t,r,e){"use strict";r.ObjectUnsubscribedError=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Q1FS:function(t,r,e){"use strict";var n=e("yx2s"),o=e("Xwq/"),i=e("zfKp"),s=e("9AGB"),c=e("n3uD");function a(t){if(t||(t=c.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}r.Observable=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(t,r,e){var n=this.operator,i=o.toSubscriber(t,r,e);if(i.add(n?n.call(i,this.source):this.source||c.config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),c.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){c.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),n.canReportError(t)?t.error(r):console.warn(r)}},t.prototype.forEach=function(t,r){var e=this;return new(r=a(r))((function(r,n){var o;o=e.subscribe((function(r){try{t(r)}catch(e){n(e),o&&o.unsubscribe()}}),n,r)}))},t.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},t.prototype[i.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var r=this;return new(t=a(t))((function(t,e){var n;r.subscribe((function(t){return n=t}),(function(t){return e(t)}),(function(){return t(n)}))}))},t.create=function(r){return new t(r)},t}()},"Xwq/":function(t,r,e){"use strict";var n=e("FWf1"),o=e("p//D"),i=e("GiSu");r.toSubscriber=function(t,r,e){if(t){if(t instanceof n.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||r||e?new n.Subscriber(t,r,e):new n.Subscriber(i.empty)}},YanU:function(t,r,e){"use strict";e.r(r),e.d(r,"PostsModule",(function(){return bt}));var n=e("ofXK"),o=e("3Pt+"),i=e("tyNb"),s=e("fXoL");let c=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=s.Gb({type:t,selectors:[["app-posts"]],decls:1,vars:0,template:function(t,r){1&t&&s.Nb(0,"router-outlet")},directives:[i.h],styles:[""],changeDetection:0}),t})();var a=e("l7P3"),u=e("/MEz"),p=e("1oMX");const{selectAll:b}=p.b.getSelectors(),l=Object(a.o)("posts"),h=Object(a.q)(l,b),f=t=>Object(a.q)(l,r=>r.entities[t]),d=Object(a.q)(l,t=>t.allPossibleTags);var m=e("vkgz"),y=e("lJxs"),g=e("tgey"),v=e("hZJE"),S=e("+QYo"),w=e("bTqV"),_=e("NFeN"),O=e("MutI"),E=e("FtGj"),C=e("A5z7"),R=e("jtHE"),x=e("VRyK"),P=e("ds6q"),k=e("Kqap"),j=e("UXun"),B=e("1G5W"),F=e("kmnG");function M(t,r){1&t&&(s.Sb(0,"mat-icon"),s.yc(1,"check"),s.Rb())}function T(t,r){if(1&t){const t=s.Tb();s.Sb(0,"mat-chip",4,5),s.Zb("click",(function(){s.oc(t);const r=s.mc(1);return s.dc().toggleSelection(r)})),s.xc(2,M,2,0,"mat-icon",6),s.yc(3),s.Rb()}if(2&t){const t=r.$implicit,e=s.mc(1);s.ic("value",t),s.Bb(2),s.ic("ngIf",e.selected),s.Bb(1),s.Ac(" ",t," ")}}function I(t,r){if(1&t){const t=s.Tb();s.Sb(0,"input",7),s.Zb("matChipInputTokenEnd",(function(r){return s.oc(t),s.dc().addChip(r)})),s.Rb()}if(2&t){const t=s.dc(),r=s.mc(2);s.ic("matChipInputFor",r)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",!0)}}let D=(()=>{class t{constructor(t){this.cdr=t,this.input=!0,this.valueCahnged=new s.o,this.value=[],this.disabled=!1,this.separatorKeysCodes=[E.g,E.c],this.onChipAdded$=new R.a,this.destroy$=new P.Subject}ngOnInit(){this.items$=Object(x.a)(this.loadPosts(),this.onChipAdded$).pipe(Object(k.a)((t,r)=>{switch(r.type){case"loaded":return r.items;case"added":return[...t,r.item]}},[]),Object(j.a)(1))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadPosts(){return this.options$.pipe(Object(y.a)(t=>({type:"loaded",items:t})))}ngAfterViewInit(){this.selectChips(this.value),this.chipList.chipSelectionChanges.pipe(Object(B.a)(this.destroy$),Object(y.a)(t=>t.source)).subscribe(t=>{this.value=t.selected?[...this.value,t.value]:this.value.filter(r=>r!==t.value),this.propagateChange(this.value)})}toggleSelection(t){this.disabled||t.toggleSelected(!0)}writeValue(t){this.chipList&&t?this.selectChips(t):t&&(this.value=t)}selectChips(t){this.chipList.chips.forEach(t=>t.deselect()),this.chipList.chips.filter(r=>t.includes(r.value)).forEach(t=>t.select()),this.cdr.detectChanges()}registerOnChange(t){this.onChange=t}registerOnTouched(t){}setDisabledState(t){this.disabled=t}propagateChange(t){this.onChange&&(this.onChange(t),this.valueCahnged.next(t))}addChip(t){let r=t.input,e=t.value;(e||"").trim()&&(this.value.push(e.trim()),this.onChipAdded$.next({type:"added",item:e.trim()})),r&&(r.value="")}}return t.\u0275fac=function(r){return new(r||t)(s.Mb(s.h))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-chips-multi-select"]],viewQuery:function(t,r){var e;1&t&&s.Bc(C.c,!0),2&t&&s.lc(e=s.ac())&&(r.chipList=e.first)},inputs:{input:"input",options$:["options","options$"]},outputs:{valueCahnged:"valueCahnged"},features:[s.Ab([{provide:o.k,useExisting:t,multi:!0}])],decls:6,vars:4,consts:[["selectable","","multiple","","aria-label","Fish selection"],["myChipList",""],[3,"value","click",4,"ngFor","ngForOf"],[3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd",4,"ngIf"],[3,"value","click"],["c","matChip"],[4,"ngIf"],[3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"]],template:function(t,r){1&t&&(s.Sb(0,"mat-form-field"),s.Sb(1,"mat-chip-list",0,1),s.xc(3,T,4,3,"mat-chip",2),s.ec(4,"async"),s.xc(5,I,1,3,"input",3),s.Rb(),s.Rb()),2&t&&(s.Bb(3),s.ic("ngForOf",s.fc(4,2,r.items$)),s.Bb(2),s.ic("ngIf",r.input))},directives:[F.c,C.c,n.j,n.k,C.a,_.a,C.b],pipes:[n.b],styles:["mat-form-field[_ngcontent-%COMP%] { width: 100% };"],changeDetection:0}),t})();var q=e("FKr1");function $(t,r){if(1&t){const t=s.Tb();s.Sb(0,"app-chips-multi-select",11),s.Zb("valueCahnged",(function(r){return s.oc(t),s.dc(2).applyFilter(r)})),s.Rb()}if(2&t){const t=s.dc(2);s.ic("formControl",t.filter)("options",t.options$)("input",!1)}}const L=function(t){return["/","posts",t]};function A(t,r){if(1&t&&(s.Sb(0,"mat-list-item",12),s.Sb(1,"mat-icon",13),s.yc(2,"event_note"),s.Rb(),s.Sb(3,"div",14),s.yc(4),s.Rb(),s.Rb()),2&t){const t=r.$implicit;s.ic("routerLink",s.kc(2,L,t.id)),s.Bb(4),s.zc(t.title)}}const N=function(){return["/","posts","create"]};function G(t,r){if(1&t){const t=s.Tb();s.Sb(0,"div"),s.Sb(1,"app-page-header"),s.Nb(2,"app-page-header-back",1),s.Sb(3,"app-page-header-title",2),s.yc(4,"Posts List"),s.Rb(),s.Sb(5,"div",3),s.xc(6,$,1,3,"app-chips-multi-select",4),s.ec(7,"async"),s.Rb(),s.Sb(8,"button",5),s.Zb("click",(function(){return s.oc(t),s.dc().onRefresh()})),s.Sb(9,"mat-icon"),s.yc(10,"refresh"),s.Rb(),s.Rb(),s.Rb(),s.Sb(11,"div",6),s.Sb(12,"button",7),s.Sb(13,"mat-icon"),s.yc(14,"add"),s.Rb(),s.Rb(),s.Rb(),s.Sb(15,"div",8),s.Sb(16,"mat-list",9),s.xc(17,A,5,4,"mat-list-item",10),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=r.ngIf,e=s.dc();s.Bb(2),s.ic("link","/"),s.Bb(1),s.ic("addons",t.length),s.Bb(3),s.ic("ngIf",s.fc(7,5,e.options$).length),s.Bb(6),s.ic("routerLink",s.jc(7,N)),s.Bb(5),s.ic("ngForOf",t)}}let H=(()=>{class t{constructor(t,r,e){this.store=t,this.cdr=r,this.formBuilder=e,this.filter=new o.e(["bug"]),t.dispatch(Object(u.g)()),this.posts$=this.store.pipe(Object(a.t)(h)).pipe(Object(m.a)(()=>{})),this.options$=this.store.pipe(Object(a.t)(d))}ngOnInit(){}onRefresh(){this.store.dispatch(Object(u.g)())}applyFilter(t){this.posts$=this.store.pipe(Object(a.t)(h),Object(y.a)(r=>r.filter(r=>{if(!t.length)return!0;let e=!0;for(let n of t)r.tags.includes(n)||(e=!1);return e}))),this.cdr.detectChanges()}}return t.\u0275fac=function(r){return new(r||t)(s.Mb(a.h),s.Mb(s.h),s.Mb(o.d))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-posts-list"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to homepage",3,"link"],[3,"addons"],[1,"posts-filter"],[3,"formControl","options","input","valueCahnged",4,"ngIf"],["mat-icon-button","","color","primary","aria-label","Reload",1,"ml-auto",3,"click"],[1,"floating-action"],["mat-fab","","color","primary","aria-label","Add new item",3,"routerLink"],[1,"page-content"],[1,"pt-0"],["mat-ripple","",3,"routerLink",4,"ngFor","ngForOf"],[3,"formControl","options","input","valueCahnged"],["mat-ripple","",3,"routerLink"],["mat-list-icon","","color","accent"],["mat-line",""]],template:function(t,r){1&t&&(s.xc(0,G,18,8,"div",0),s.ec(1,"async")),2&t&&s.ic("ngIf",s.fc(1,1,r.posts$))},directives:[n.k,g.a,v.a,S.a,w.a,_.a,i.e,O.a,n.j,D,o.m,o.f,O.c,q.r,O.b,q.k],pipes:[n.b],styles:[".post-item__date[_ngcontent-%COMP%]{opacity:.5}.posts-filter[_ngcontent-%COMP%]{width:70%;padding:0 16px;margin-top:10px}.page-header-title[_ngcontent-%COMP%]{white-space:nowrap!important}.mat-icon[_ngcontent-%COMP%]{color:#1a231d}.floating-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#918e8e}.floating-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#dcdcdc!important}  .mat-chip.mat-standard-chip{background-color:rgba(145,142,142,.49);color:rgba(0,0,0,.87)}  .mat-chip.mat-standard-chip.mat-chip-selected.mat-primary{background-color:rgba(0,0,0,.62);color:#fff}  .mat-focus-indicator.mat-icon-button.mat-button-base.mat-primary{color:#000}  .posts-filter .mat-form-field-underline{display:none}  mat-form-field .mat-chip-list-wrapper{flex-wrap:nowrap;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none}  mat-form-field .mat-chip-list-wrapper::-webkit-scrollbar{display:none}"],changeDetection:0}),t})();var U=e("qXsx"),z=e("Wp6s"),K=e("qFsG");function J(t,r){1&t&&(s.Sb(0,"mat-error"),s.yc(1," Title of Post is required "),s.Rb())}function Z(t,r){1&t&&(s.Sb(0,"mat-error"),s.yc(1," Body of Post is required "),s.Rb())}const V=function(){return["/","posts"]};let W=(()=>{class t{constructor(t,r,e){this.formBuilder=t,this.store=r,this.notification=e}ngOnInit(){this.postForm=this.createPostCreateFormGroup(),this.options$=this.store.pipe(Object(a.t)(d))}onPostFormSubmit(){this.postForm.valid?this.store.dispatch(Object(u.a)({post:this.postForm.value})):this.notification.showError("Form contains errors. Fix it and try again.")}createPostCreateFormGroup(){return this.formBuilder.group({date:[new Date,o.q.required],title:["",o.q.required],body:["",o.q.required],tags:[[]]})}canDeactivate(){return!this.postForm.dirty}}return t.\u0275fac=function(r){return new(r||t)(s.Mb(o.d),s.Mb(a.h),s.Mb(U.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-post-create"]],decls:28,vars:11,consts:[["ariaLabel","Back to Posts List",3,"link"],[1,"page-content"],[1,"squeeze"],[3,"formGroup","submit"],[1,"w-100"],["matInput","","maxlength","40",3,"formControlName"],["title",""],[4,"ngIf"],["align","end"],["matInput","","rows","10",3,"formControlName"],[3,"formControlName","options"],[1,"text-right"],["mat-button","","type","button",3,"routerLink"],["mat-flat-button","","color","primary","type","submit"]],template:function(t,r){if(1&t&&(s.Sb(0,"div"),s.Sb(1,"app-page-header"),s.Nb(2,"app-page-header-back",0),s.Sb(3,"app-page-header-title"),s.yc(4,"Post Create"),s.Rb(),s.Rb(),s.Sb(5,"div",1),s.Sb(6,"div",2),s.Sb(7,"mat-card"),s.Sb(8,"form",3),s.Zb("submit",(function(){return r.onPostFormSubmit()})),s.Sb(9,"mat-form-field",4),s.Sb(10,"mat-label"),s.yc(11,"Post Title"),s.Rb(),s.Nb(12,"input",5,6),s.xc(14,J,2,0,"mat-error",7),s.Sb(15,"mat-hint",8),s.yc(16),s.Rb(),s.Rb(),s.Sb(17,"mat-form-field",4),s.Sb(18,"mat-label"),s.yc(19,"Body"),s.Rb(),s.Nb(20,"textarea",9),s.xc(21,Z,2,0,"mat-error",7),s.Rb(),s.Nb(22,"app-chips-multi-select",10),s.Sb(23,"div",11),s.Sb(24,"button",12),s.yc(25,"Cancel"),s.Rb(),s.Sb(26,"button",13),s.yc(27,"Submit"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t){const t=s.mc(13);s.Bb(2),s.ic("link","/posts/list"),s.Bb(6),s.ic("formGroup",r.postForm),s.Bb(4),s.ic("formControlName","title"),s.Bb(2),s.ic("ngIf",r.postForm.get("title").hasError("required")),s.Bb(2),s.Ac("",t.value.length," / 40"),s.Bb(4),s.ic("formControlName","body"),s.Bb(1),s.ic("ngIf",r.postForm.get("body").hasError("required")),s.Bb(1),s.ic("formControlName","tags")("options",r.options$),s.Bb(2),s.ic("routerLink",s.jc(10,V))}},directives:[g.a,v.a,S.a,z.a,o.r,o.n,o.h,F.c,F.g,K.b,o.c,o.i,o.m,o.g,n.k,F.f,D,w.a,i.e,F.b],styles:[".text-right[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#0a2a42!important}"],changeDetection:0}),t})();var X=e("quSY");function Y(t,r){1&t&&(s.Sb(0,"mat-error"),s.yc(1," Title of Post is required "),s.Rb())}function Q(t,r){1&t&&(s.Sb(0,"mat-error"),s.yc(1," Body of Post is required "),s.Rb())}const tt=function(){return["/","posts"]};function rt(t,r){if(1&t){const t=s.Tb();s.Sb(0,"div"),s.Sb(1,"app-page-header"),s.Nb(2,"app-page-header-back",1),s.Sb(3,"button",2),s.Zb("click",(function(){s.oc(t);const e=r.ngIf;return s.dc().delete(e.id)})),s.Sb(4,"mat-icon"),s.yc(5,"delete"),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",3),s.Sb(7,"div",4),s.Sb(8,"mat-card"),s.Sb(9,"form",5),s.Zb("submit",(function(){return s.oc(t),s.dc().onPostFormSubmit()})),s.Sb(10,"mat-form-field",6),s.Sb(11,"mat-label"),s.yc(12,"Post Title"),s.Rb(),s.Nb(13,"input",7,8),s.xc(15,Y,2,0,"mat-error",0),s.Sb(16,"mat-hint",9),s.yc(17),s.Rb(),s.Rb(),s.Sb(18,"mat-form-field",6),s.Sb(19,"mat-label"),s.yc(20,"Body"),s.Rb(),s.Nb(21,"textarea",10),s.xc(22,Q,2,0,"mat-error",0),s.Rb(),s.Nb(23,"app-chips-multi-select",11),s.Sb(24,"div",12),s.Sb(25,"button",13),s.yc(26,"Cancel"),s.Rb(),s.Sb(27,"button",14),s.yc(28,"Submit"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=s.mc(14),r=s.dc();s.Bb(2),s.ic("link","/posts/list"),s.Bb(7),s.ic("formGroup",r.postForm),s.Bb(4),s.ic("formControlName","title"),s.Bb(2),s.ic("ngIf",r.postForm.get("title").hasError("required")),s.Bb(2),s.Ac("",t.value.length," / 40"),s.Bb(4),s.ic("formControlName","body"),s.Bb(1),s.ic("ngIf",r.postForm.get("body").hasError("required")),s.Bb(1),s.ic("formControlName","tags")("options",r.options$),s.Bb(2),s.ic("routerLink",s.jc(10,tt))}}let et=(()=>{class t{constructor(t,r,e,n){this.activatedRoute=t,this.formBuilder=r,this.store=e,this.notification=n,this.subscriptions=new X.a}toggleSelection(t){t.toggleSelected()}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.post$=this.store.pipe(Object(a.t)(f(t.id))),this.subscriptions.add(this.post$.subscribe(r=>{this.postForm=this.createPostFormGroup(r),r||this.store.dispatch(Object(u.i)({id:t.id}))}))}),this.options$=this.store.pipe(Object(a.t)(d))}onPostFormSubmit(){this.postForm.valid?this.store.dispatch(Object(u.m)({updatePost:{id:this.postForm.controls.id.value,changes:this.postForm.value}})):this.notification.showError("Form contains errors. Fix it and try again.")}delete(t){this.store.dispatch(Object(u.d)({id:t}))}canDeactivate(){return!this.postForm.dirty}ngOnDestroy(){this.subscriptions.unsubscribe()}createPostFormGroup(t){return this.formBuilder.group({id:[t?t.id:null,o.q.required],title:[t?t.title:"",o.q.required],body:[t?t.body:"",o.q.required],tags:[t?t.tags:[],o.q.required]})}}return t.\u0275fac=function(r){return new(r||t)(s.Mb(i.a),s.Mb(o.d),s.Mb(a.h),s.Mb(U.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-post-update"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to Posts List",3,"link"],["mat-icon-button","","color","warn","aria-label","Delete Post",1,"ml-auto",3,"click"],[1,"page-content"],[1,"squeeze"],[3,"formGroup","submit"],[1,"w-100"],["matInput","","maxlength","40",3,"formControlName"],["title",""],["align","end"],["matInput","","rows","10",3,"formControlName"],[3,"formControlName","options"],[1,"text-right"],["mat-button","","type","button",3,"routerLink"],["mat-flat-button","","color","primary","type","submit"]],template:function(t,r){1&t&&(s.xc(0,rt,29,11,"div",0),s.ec(1,"async")),2&t&&s.ic("ngIf",s.fc(1,1,r.post$))},directives:[n.k,g.a,v.a,w.a,_.a,z.a,o.r,o.n,o.h,F.c,F.g,K.b,o.c,o.i,o.m,o.g,F.f,D,i.e,F.b],pipes:[n.b],styles:["mat-icon[_ngcontent-%COMP%]{height:20px;width:20px;font-size:20px;margin-right:5px}.text-right[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#0a2a42!important}"],changeDetection:0}),t})();var nt=e("IzEk");const ot=function(t){return["/","posts",t,"update"]};function it(t,r){if(1&t){const t=s.Tb();s.Sb(0,"div"),s.Sb(1,"app-page-header"),s.Nb(2,"app-page-header-back",1),s.Sb(3,"app-page-header-title"),s.yc(4),s.Rb(),s.Sb(5,"button",2),s.Sb(6,"mat-icon"),s.yc(7,"edit"),s.Rb(),s.Rb(),s.Sb(8,"button",3),s.Zb("click",(function(){s.oc(t);const e=r.ngIf;return s.dc().delete(e.id)})),s.Sb(9,"mat-icon"),s.yc(10,"delete"),s.Rb(),s.Rb(),s.Rb(),s.Nb(11,"div",4),s.Rb()}if(2&t){const t=r.ngIf;s.Bb(2),s.ic("link","/posts/list"),s.Bb(2),s.zc(t.title),s.Bb(1),s.ic("routerLink",s.kc(4,ot,t.id)),s.Bb(6),s.ic("innerHTML",t.body,s.pc)}}let st=(()=>{class t{constructor(t,r){this.activatedRoute=t,this.store=r}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.post$=this.store.pipe(Object(a.t)(f(t.id))),this.post$.pipe(Object(nt.a)(1)).subscribe(r=>!r&&this.store.dispatch(Object(u.i)({id:t.id})))})}delete(t){this.store.dispatch(Object(u.d)({id:t}))}}return t.\u0275fac=function(r){return new(r||t)(s.Mb(i.a),s.Mb(a.h))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-post-details"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to Posts List",3,"link"],["mat-icon-button","","color","primary","aria-label","Edit Post",1,"ml-auto",3,"routerLink"],["mat-icon-button","","color","warn","aria-label","Delete Post",3,"click"],[1,"page-content",3,"innerHTML"]],template:function(t,r){1&t&&(s.xc(0,it,12,6,"div",0),s.ec(1,"async")),2&t&&s.ic("ngIf",s.fc(1,1,r.post$))},directives:[n.k,g.a,v.a,S.a,w.a,i.e,_.a],pipes:[n.b],styles:[".page-header-title[_ngcontent-%COMP%]{white-space:nowrap}"],changeDetection:0}),t})();var ct=e("udBE");const at=[{path:"",component:c,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:H},{path:"create",component:W,canDeactivate:[ct.a]},{path:":id/update",component:et,canDeactivate:[ct.a]},{path:":id",component:st}]}];let ut=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(r){return new(r||t)},imports:[[i.g.forChild(at)],i.g]}),t})();var pt=e("PCNd");let bt=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(r){return new(r||t)},imports:[[n.c,ut,o.p,pt.a]]}),t})()},ds6q:function(t,r,e){"use strict";var n=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),o=e("Q1FS"),i=e("FWf1"),s=e("zB/H"),c=e("Mxlh"),a=e("FiyT"),u=e("p//D"),p=function(t){function r(r){var e=t.call(this,r)||this;return e.destination=r,e}return n(r,t),r}(i.Subscriber);r.SubjectSubscriber=p;var b=function(t){function r(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return n(r,t),r.prototype[u.rxSubscriber]=function(){return new p(this)},r.prototype.lift=function(t){var r=new l(this,this);return r.operator=t,r},r.prototype.next=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var r=this.observers,e=r.length,n=r.slice(),o=0;o<e;o++)n[o].next(t)},r.prototype.error=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var r=this.observers,e=r.length,n=r.slice(),o=0;o<e;o++)n[o].error(t);this.observers.length=0},r.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,r=t.length,e=t.slice(),n=0;n<r;n++)e[n].complete();this.observers.length=0},r.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},r.prototype._trySubscribe=function(r){if(this.closed)throw new c.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,r)},r.prototype._subscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new a.SubjectSubscription(this,t))},r.prototype.asObservable=function(){var t=new o.Observable;return t.source=this,t},r.create=function(t,r){return new l(t,r)},r}(o.Observable);r.Subject=b;var l=function(t){function r(r,e){var n=t.call(this)||this;return n.destination=r,n.source=e,n}return n(r,t),r.prototype.next=function(t){var r=this.destination;r&&r.next&&r.next(t)},r.prototype.error=function(t){var r=this.destination;r&&r.error&&this.destination.error(t)},r.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},r.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},r}(b);r.AnonymousSubject=l},mbIT:function(t,r,e){"use strict";r.isArray=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},n3uD:function(t,r,e){"use strict";var n=!1;r.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var r=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+r.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},"p//D":function(t,r,e){"use strict";r.rxSubscriber=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),r.$$rxSubscriber=r.rxSubscriber},pshJ:function(t,r,e){"use strict";r.isFunction=function(t){return"function"==typeof t}},w5QO:function(t,r,e){"use strict";r.noop=function(){}},yx2s:function(t,r,e){"use strict";var n=e("FWf1");r.canReportError=function(t){for(;t;){var r=t.destination;if(t.closed||t.isStopped)return!1;t=r&&r instanceof n.Subscriber?r:null}return!0}},"zB/H":function(t,r,e){"use strict";var n=e("mbIT"),o=e("GMZp"),i=e("pshJ"),s=e("LBXl");function c(t){return t.reduce((function(t,r){return t.concat(r instanceof s.UnsubscriptionError?r.errors:r)}),[])}r.Subscription=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var r;return t.prototype.unsubscribe=function(){var r;if(!this.closed){var e=this._parentOrParents,a=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof t)e.remove(this);else if(null!==e)for(var p=0;p<e.length;++p)e[p].remove(this);if(i.isFunction(a))try{a.call(this)}catch(h){r=h instanceof s.UnsubscriptionError?c(h.errors):[h]}if(n.isArray(u)){p=-1;for(var b=u.length;++p<b;){var l=u[p];if(o.isObject(l))try{l.unsubscribe()}catch(h){r=r||[],h instanceof s.UnsubscriptionError?r=r.concat(c(h.errors)):r.push(h)}}}if(r)throw new s.UnsubscriptionError(r)}},t.prototype.add=function(r){var e=r;if(!r)return t.EMPTY;switch(typeof r){case"function":e=new t(r);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof t)){var n=e;(e=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var o=e._parentOrParents;if(null===o)e._parentOrParents=this;else if(o instanceof t){if(o===this)return e;e._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return e;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[e]:i.push(e),e},t.prototype.remove=function(t){var r=this._subscriptions;if(r){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}},t.EMPTY=((r=new t).closed=!0,r),t}()},zfKp:function(t,r,e){"use strict";r.observable=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()}}]);